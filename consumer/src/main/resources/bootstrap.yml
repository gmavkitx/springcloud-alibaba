spring:
  application:
    name: consumer
  profiles:
    active: dev
  cloud:
    nacos:
      config:
        encode: UTF-8
        group: DEFAULT_GROUP
        timeout: 3000
        file-extension: yaml
        prefix: ${spring.application.name}
        ext-config[0]:
          data-id: common.yaml
          group: DEFAULT_GROUP
          refresh: true
    # sentinel熔断降级配置
    sentinel:
      transport:
        # sentinel的连接地址
        dashboard: localhost:7000
        # 默认8719
        port: 7001
      log:
        # 日志路径
        dir: ../logs

# 开启sentinel对feign的支持
feign:
  sentinel:
    enabled: true

ribbon:
  nacos:
    enabled: true

management:
  endpoints:
    web:
      exposure:
        include: '*'
---
server:
  port: 8081
spring:
  profiles: dev
  cloud:
    nacos:
      config:
        refresh:
          enabled: true
        server-addr: 127.0.0.1:8848
        namespace: 284884d4-5985-49e6-8a47-5884a489bec3
      discovery:
        server-addr: ${spring.cloud.nacos.config.server-addr}
        namespace: ${spring.cloud.nacos.config.namespace}
        metadata:
          version: 0.1.0
dubbo:
  scan:
    base-packages: com.kimzing
  application:
    id: ${spring.application.name}
    name: ${spring.application.name}
  registry:
    id: nacos
    address: nacos://127.0.0.1:8848
  protocol:
    id: dubbo
    name: dubbo
    port: 20880